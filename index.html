<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Karinails.design | Agendamento</title>
  <style>
    body{font-family:sans-serif;background:#fff8f7;margin:0;color:#2d2a2a}
    header{background:linear-gradient(120deg,#fff8f7 0%, #ffeef7 60%, #fff8f7 100%);padding:24px;text-align:center}
    header img{width:140px;height:140px;object-fit:cover;border-radius:50%;border:4px solid #fff;box-shadow:0 4px 14px rgba(0,0,0,.15)}
    .wrap{max-width:1000px;margin:auto;padding:20px}
    .grid{display:grid;gap:20px}
    @media(min-width:800px){.grid{grid-template-columns:1fr 1fr 1fr}}
    .card{background:#fff;border-radius:16px;padding:16px;box-shadow:0 4px 12px rgba(0,0,0,.08)}
    .service{display:flex;justify-content:space-between;margin-bottom:18px} /* mais espaço */
    .service h3{margin:0;font-size:15px}
    .yen{color:#d63384;font-weight:bold}
    .muted{color:#6f6366;font-size:13px}
    /* Galeria */
    .gallery{display:grid;gap:10px;grid-template-columns:repeat(2,1fr)}
    @media(min-width:800px){.gallery{grid-template-columns:repeat(3,1fr)}}
    .gallery img{width:100%;border-radius:12px;object-fit:cover;aspect-ratio:1/1;cursor:pointer}
    /* Rodapé */
    footer{background:#20181b;color:#fff;padding:16px;text-align:center;margin-top:20px}
    footer a{color:#ffd1e6;text-decoration:none;margin:0 8px}
    /* Modal (foto grande) */
    .modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.85)}
    .modal img{max-width:90%;max-height:90%;margin:auto;display:block;position:absolute;top:0;bottom:0;left:0;right:0;border-radius:12px}
    /* Aviso sucesso */
    .ok{display:none;margin-bottom:10px;background:#eafff1;border:1px solid #b6f3c8;color:#176d3a;padding:10px;border-radius:10px}
  </style>
</head>
<body>
  <header>
    <img src="assets/hero.jpg" alt="Karina - Nail designer">
    <h1>Karinails.design Hiroshima</h1>
    <p>Agendamento online • オンライン予約<br/>Gel • 長さ出し • デザイン</p>
  </header>

  <main class="wrap">
    <section class="grid">
      <!-- Serviços -->
      <div class="card">
        <h2>Serviços / サービス</h2>
        <div class="service"><h3>Esmaltadas em gel / ジェルネイルカラー</h3><div class="yen">¥4,500</div></div>
        <div class="service"><h3>Alongamento + 1 cor / 長さ出し＋ワンカラー</h3><div class="yen">¥6,500</div></div>
        <div class="service"><h3>Alongamento + decorações / 長さ出し＋デザイン＋ストーン</h3><div class="yen">¥7,000</div></div>
        <div class="service"><h3>Manutenção (≤28 dias) / リペア（28日以内）</h3><div class="yen">¥4,000</div></div>
        <div class="service"><h3>Acima de 28 dias / 28日以上</h3><div class="yen">Preço de aplicação</div></div>
        <p class="muted">* Valores em ienes.</p>
      </div>

      <!-- Agendar + Admin (PIN) -->
      <div class="card">
        <h2>Agendar / ご予約</h2>
        <div id="ok" class="ok">Agendamento salvo! / 予約完了しました。</div>

        <label>Nome / お名前
          <input id="nome" placeholder="Ex.: Karina / カリナ" style="width:100%">
        </label>

        <label>Serviço / サービス
          <select id="servico" style="width:100%">
            <option>Esmaltadas em gel / ジェルネイルカラー</option>
            <option>Alongamento + 1 cor / 長さ出し＋ワンカラー</option>
            <option>Alongamento + decorações / 長さ出し＋デザイン＋ストーン</option>
            <option>Manutenção (≤28 dias) / リペア（28日以内）</option>
            <option>Acima de 28 dias / 28日以上</option>
          </select>
        </label>

        <label>Data / 日付 <input type="date" id="data" style="width:100%"></label>
        <label>Hora / 時間 <input type="time" id="hora" style="width:100%"></label>

        <button id="btn" style="width:100%;padding:10px;background:#d63384;color:#fff;border:none;border-radius:10px;font-weight:700">
          Agendar / 予約
        </button>

        <div style="margin-top:12px;border-top:1px dashed #ead1dd;padding-top:10px">
          <details>
            <summary>🔐 Admin (PIN)</summary>
            <label>PIN <input type="password" id="pin" placeholder="**" style="width:100%"></label>
            <button id="btn-admin" style="margin-top:8px;width:100%">Entrar</button>

            <div id="area-admin" style="display:none;margin-top:10px">
              <h3>Agendamentos</h3>
              <ul id="lista" class="muted" style="padding-left:18px"></ul>
              <button id="btn-clear" style="background:#6b7280;color:#fff;border:none;border-radius:10px;padding:8px 10px">Limpar todos / 全削除</button>
            </div>
          </details>
          <div class="muted" style="font-size:12px">Fuso: Asia/Tokyo • データは端末（ブラウザ）に保存されます。</div>
        </div>
      </div>

      <!-- Galeria -->
      <div class="card">
        <h2>Galeria / 作品</h2>
        <div class="gallery">
          <img src="assets/nails-red.jpg" alt="Unhas vermelhas">
          <img src="assets/nails-blue.jpg" alt="Unhas azul/rosa">
          <img src="assets/hero.jpg" alt="Karina">
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 Karinails.design • Hiroshima</p>
    <p>@ do Instagram: <a href="https://instagram.com/karinails.design" target="_blank">@karinails.design</a> |
       <a href="https://wa.me/818057360208" target="_blank">WhatsApp</a></p>
  </footer>

  <!-- Modal da foto grande -->
  <div class="modal" id="modal" onclick="this.style.display='none'">
    <img id="modal-img" src="">
  </div>

<script>
  // ======= CONFIG =======
  const PIN = "0911";              // <<-- seu PIN de admin (mude aqui se quiser)
  const MIN_LEAD_MIN = 120;        // antecedência mínima: 2 horas

  // Data padrão = amanhã
  (function(){
    const d=new Date(); d.setDate(d.getDate()+1);
    const p=n=>String(n).padStart(2,'0');
    document.getElementById('data').value = d.getFullYear()+"-"+p(d.getMonth()+1)+"-"+p(d.getDate());
  })();

  // Salvar agendamento no navegador (localStorage)
  document.getElementById('btn').addEventListener('click', ()=>{
    const nome = document.getElementById('nome').value.trim();
    const servico = document.getElementById('servico').value;
    const data = document.getElementById('data').value;
    const hora = document.getElementById('hora').value;
    if(!nome || !servico || !data || !hora){ alert('Preencha todos os campos / 全て入力してください'); return; }

    const when = new Date(data+'T'+hora+':00');
    if(when - new Date() < MIN_LEAD_MIN*60000){
      alert('Precisa de 2h de antecedência / 2時間前までに予約してください'); return;
    }

    const rows = JSON.parse(localStorage.getItem('agendamentos')||'[]');
    rows.push({nome, servico, data, hora, ts:Date.now()});
    localStorage.setItem('agendamentos', JSON.stringify(rows));
    document.getElementById('ok').style.display='block';
    setTimeout(()=>document.getElementById('ok').style.display='none', 2500);
  });

  // Admin: entrar com PIN e listar
  document.getElementById('btn-admin').addEventListener('click', ()=>{
    const pin = document.getElementById('pin').value;
    if(pin !== PIN){ alert('PIN incorreto / PINが違います'); return; }
    const area = document.getElementById('area-admin');
    const ul = document.getElementById('lista');
    const rows = JSON.parse(localStorage.getItem('agendamentos')||'[]')
      .sort((a,b)=> (a.data+a.hora).localeCompare(b.data+b.hora));
    ul.innerHTML = rows.length ? rows.map(r=>`<li>${r.data} ${r.hora} — ${r.nome} (${r.servico})</li>`).join('') : '<li>(vazio)</li>';
    area.style.display='block';
  });

  // Limpar
  document.getElementById('btn-clear').addEventListener('click', ()=>{
    if(confirm('Apagar todos os agendamentos? / 全て削除しますか？')){
      localStorage.removeItem('agendamentos');
      document.getElementById('lista').innerHTML = '<li>(vazio)</li>';
    }
  });

  // Galeria: clicar e abrir grande
  document.querySelectorAll('.gallery img').forEach(img=>{
    img.addEventListener('click', ()=>{
      document.getElementById('modal-img').src = img.src;
      document.getElementById('modal').style.display='block';
    });
  });
</script>
</body>
</html>
